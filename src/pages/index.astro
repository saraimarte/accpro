---
import '../styles/global.css';
//import '../dragulaFolder/dragula.min.css';
import FlexLayout from '/opt/build/repo/src/layouts/FlexLayout.astro';
import Column1 from '/opt/build/repo/src/layouts/Column1.astro';
import Column2 from '/opt/build/repo/src/layouts/Column2.astro';
import Column3 from '/opt/build/repo/src/layouts/Column3.astro';
import DragParent from '/opt/build/repo/src/components/DragParent.astro';
import {activities, answers} from '/opt/build/repo/src/scripts/shuffle.js'; 
const activitiesCount = 10;

---

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title> Astro</title>
		<link href="https://fonts.googleapis.com/css2?family=Inter&family=Roboto&family=Roboto+Mono&display=swap"
		rel="stylesheet">
		<link rel = "stylesheet" href = "https://cdn.jsdelivr.net/gh/bevacqua/dragula/dist/dragula.min.css">
	</head>
	<script>
		import _ from 'lodash';
		var activities = [
			"Purchasing equipment",
			"Paying dividends",
			"Selling products",
			"Buying inventory",
			"Hiring new employees",
			"Paying salaries",
			"Hosting a Marketing campaign",
			"Hosting a conference",
			"Purchasing supplies",
			"Interviewing job applicants",
			"Investing in stocks",
			"Attending an industry conference",
		  ]
		var answers = ['Yes', 'Yes', 'Yes', 'Yes', 'No', 'Yes', 'No', 'No', 'Yes', 'No', 'Yes', 'No']
		
		function shuffle(arr1, arr2) {
			if (arr1.length !== arr2.length){
				throw new Error("Arrays must have the same length");
			}
			const joinedArr = _.zip(arr1, arr2);
			const shuffledArr = _.shuffle(joinedArr);
			const [shuffledArr1, shuffledArr2] = _.unzip(shuffledArr);
			return [shuffledArr1, shuffledArr2];
		}
		
		var [activities, answers] = shuffle(activities, answers);
		
		</script>
		
	<body>
		<FlexLayout>
			<Column1 > 
				<DragParent>	
					{activities.slice(0,activitiesCount).map((activity,index) => ( <div class = {`activity ${answers[index]}`}> {activity} </div>))}
				</DragParent>
			</Column1>
			<Column2 />
			<Column3>
			</Column3>
	  </FlexLayout>

	  <script> 
		import "/opt/build/repo/src/scripts/grade.js";
		import "../dragulaFolder/dragula.min.js";
		import "../scripts/drag.js";
		import "https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js";
	  </script>
	  

	</body>
</html>
